<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<title>Chat Online</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<style>
body { font-family: Arial, sans-serif; background:#f4f4f4; }
.chat { max-width:500px; margin:40px auto; background:#fff; border-radius:8px; padding:16px; }
#messages { height:300px; overflow-y:auto; border:1px solid #ddd; padding:8px; margin-bottom:8px; }
input, button { padding:8px; }
button { cursor:pointer; }
</style>
</head>
<body>
<div class="chat">
<h2>ðŸ’¬ Chat Online</h2>
<input id="username" placeholder="TÃªn cá»§a báº¡n" /><br><br>
<div id="messages"></div>
<input id="message" placeholder="Nháº­p tin nháº¯n..." />
<button onclick="sendMessage()">Gá»­i</button>
</div>


<script>
// 1. Thay báº±ng cáº¥u hÃ¬nh Firebase cá»§a báº¡n
const firebaseConfig = {
apiKey: "YOUR_API_KEY",
authDomain: "YOUR_PROJECT.firebaseapp.com",
databaseURL: "https://YOUR_PROJECT.firebaseio.com",
projectId: "YOUR_PROJECT",
};


firebase.initializeApp(firebaseConfig);
const db = firebase.database();
const messagesRef = db.ref("messages");


// 2. Gá»­i tin nháº¯n
function sendMessage() {
const user = document.getElementById("username").value || "áº¨n danh";
const text = document.getElementById("message").value;
if (!text) return;
messagesRef.push({ user, text, time: Date.now() });
document.getElementById("message").value = "";
}


// 3. Nháº­n tin nháº¯n realtime
messagesRef.limitToLast(50).on("child_added", snap => {
const msg = snap.val();
const div = document.createElement("div");
div.textContent = msg.user + ": " + msg.text;
document.getElementById("messages").appendChild(div);
});
</script>
</body>
</html>
